const MAP_LATITUDE=59.96844,MAP_LONGITUDE=30.31755,PIN_LATITUDE=59.96838,PIN_LONGITUDE=30.31762,DEFAULT_SCALE=18.5,navMain=document.querySelector(".main-nav"),navToggle=document.querySelector(".main-nav__toggle"),mapContainer=document.querySelector(".map__canvas"),productCard=document.querySelector(".product-promo__card"),selectControl=document.querySelector(".select__control");navMain.classList.remove("main-nav--nojs"),navMain.classList.remove("main-nav--opened"),navMain.classList.add("main-nav--closed"),navToggle.addEventListener("click",(function(){navMain.classList.contains("main-nav--closed")?(navMain.classList.remove("main-nav--closed"),navMain.classList.add("main-nav--opened")):(navMain.classList.add("main-nav--closed"),navMain.classList.remove("main-nav--opened"))})),mapContainer.classList.remove("map__canvas--nojs");const map=L.map("map-canvas").setView({lat:59.96844,lng:30.31755},18.5);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(map);const mainPinIcon=L.icon({iconUrl:"./img/icon-map-pin.svg",iconSize:[38,50],iconAnchor:[19,48]}),mainPinMarker=L.marker({lat:59.96838,lng:30.31762},{draggable:!1,icon:mainPinIcon});mainPinMarker.addTo(map),productCard.classList.remove(".product-promo__card--nojs"),new Swiper(".swiper",{direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),selectControl.style.display="none",selectControl.style.opacity=0,selectControl.style.position="absolute",selectControl.style.height=1,selectControl.style.width=1;const selects=document.querySelectorAll(".select__control");for(let e=0;e<selects.length;e++){const t=selects[e],n=t.querySelectorAll("option"),o=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div");o.className="select__control-custom",a.className="select__control-custom-list select__control-custom-scrollbar",s.className="select__control-custom--current",o.append(s,a),t.after(o);const c=(e,t)=>{let o="";for(let e=0;e<n.length;e++)o+='<div class="select__control-custom-item" data-value="'+n[e].value+'">'+n[e].text+"</div>";a.innerHTML=o,e(),t()},l=()=>{o.classList.toggle("select__control-custom--shown")},i=()=>{const e=a.children;for(let n=0;n<e.length;n++){let a=e[n].getAttribute("data-value"),c=e[n].textContent;e[0].classList.add("select__control-custom-item--active"),e[n].addEventListener("click",(()=>{for(let t=0;t<e.length;t++)e[t].classList.contains("select__control-custom-item--active")&&e[t].classList.remove("select__control-custom-item--active");o.classList.remove("select__control-custom--shown"),s.textContent=c,e[n].classList.add("select__control-custom-item--active"),t.value=a}))}},r=()=>{s.addEventListener("click",l)};c((()=>s.textContent=a.children[0].textContent),i),document.addEventListener("mouseup",(e=>{o.contains(e.target)||o.classList.remove("select__control-custom--shown")})),r()}